# 全国IPTV直播流代理 - EdgeOne Pages部署项目

基于Next.js的全国各地电视台直播代理服务,可部署到腾讯云EdgeOne Pages。

## 支持的电视台

### 🎬 4K频道 (9个)
- 北京卫视4K (btv4k)
- 上海卫视4K (sh4k)
- 江苏卫视4K (js4k)
- 浙江卫视4K (zj4k)
- 山东卫视4K (sd4k)
- 湖南卫视4K (hn4k)
- 广东卫视4K (gd4k)
- 四川卫视4K (sc4k)
- 深圳卫视4K (sz4k)

### 📺 北京TV (10个)
- 北京卫视 (bjws)
- BRTV文艺 (bjwy)
- BRTV纪实科教 (bjjskj)
- BRTV影视 (bjys)
- BRTV财经 (bjcj)
- BRTV生活 (bjsh)
- BRTV新闻 (bjxw)
- 卡酷少儿 (bjkk)
- 北京卫视4K (bjws4k)
- BRTV体育休闲 (bjty)

### 📺 河南TV (17个)
- 河南卫视 (hnws)
- 河南都市 (hnds)
- 河南民生 (hnms)
- 河南法治 (hmfz)
- 河南电视剧 (hndsj)
- 河南新闻 (hnxw)
- 欢腾购物 (htgw)
- 河南公共 (hngg)
- 河南乡村 (hnxc)
- 河南国际 (hngj)
- 河南梨园 (hnly)
- 文物宝库 (wwbk)
- 武术世界 (wspd)
- 睛彩中原 (jczy)
- 移动戏曲 (ydxj)
- 象视界 (xsj)
- 国学频道 (gxpd)

### 📺 河北TV (8个)
- 河北卫视 (hbws)
- 经济生活 (hbjj)
- 三农频道 (nmpd)
- 河北都市 (hbds)
- 河北影视剧 (hbys)
- 少儿科教 (hbse)
- 文旅·公共 (hbgg)
- 三佳购物 (hbsj)

### 📺 黑龙江TV (7个)
- 黑龙江卫视 (hljws)
- 黑龙江都市 (hljds)
- 黑龙江影视 (hljys)
- 黑龙江文体 (hljwt)
- 黑龙江农业科教 (hljnykj)
- 黑龙江新闻法治 (hljxwfz)
- 黑龙江少儿 (hljse)

### 📺 辽宁TV (11个) 🔗全链路代理
- 辽宁卫视 (lnws)
- 都市频道 (dspd)
- 体育频道 (typd)
- 生活频道 (shpd)
- 青少频道 (qspd)
- 影视剧频道 (ysjpd)
- 北方频道 (bfpd)
- 移动频道-宜居购物 (yjgw)
- 新动漫频道 (xdm)
- 家庭理财 (jtlc)
- 移动电视 (ydds)

### 📺 江苏TV (50个)
- 江苏卫视 (jsws)
- 江苏城市 (jscs)
- 江苏综艺 (jszy)
- 江苏影视 (jsys)
- 江苏新闻 (jsxw)
- 江苏教育 (jsjy)
- 江苏体育休闲 (jsty)
- 江苏国际 (jsgj)
- 优漫卡通 (ymkt)
- 南京新闻综合 (nj1)
- 六合新闻综合 (njlh)
- 无锡新闻综合 (wx1)
- 江阴新闻综合 (wxjy)
- 徐州新闻综合 (xz1)
- 邳州综合 (xzpz)
- 新沂新闻综合 (xzxy)
- 贾汪新闻综合 (xzjw)
- 铜山新闻综合 (xzts)
- 常州新闻 (cz1)
- 武进综合 (czwj)
- 苏州新闻综合 (sz1)
- 常熟综合 (szcs)
- 吴江新闻综合 (szwj)
- 张家港新闻综合 (szzjg)
- 南通新闻综合 (nt1)
- 连云港新闻综合 (lyg1)
- 东海新闻综合 (lygdh)
- 淮安综合 (ha1)
- 盱眙综合 (haxy)
- 洪泽综合 (hahz)
- 盐城1套 (yc1)
- 响水综合 (ycxs)
- 扬州新闻 (yz1)
- 邗江综合 (yzhj)
- 镇江新闻综合 (zj1)
- 句容新闻综合 (zjjr)
- 泰州新闻 (tz1)
- 靖江新闻 (tzjj)
- 泰兴新闻综合 (tztx)
- 兴化新闻综合 (tzxh)
- 宿迁综合 (sq1)
- 泗阳综合 (sqsy)

### 📺 山东TV (26个，支持动态)
- 山东卫视4K (1-2)
- 新闻频道 (xwpd)
- 齐鲁频道 (qlpd)
- 体育休闲频道 (txyx)
- 生活频道 (shpd)
- 综艺频道 (zypd)
- 文旅频道 (wlpd)
- 农科频道 (nkpd)
- 少儿频道 (sepd)
- 济南台 (jndst)
- 淄博台 (zbdst)
- 枣庄台 (zzdst)
- 东营台 (dydst)
- 烟台台 (ytdst)
- 潍坊台 (wfdst)
- 泰安台 (tadst)
- 威海台 (whdst)
- 日照台 (rzdst)
- 临沂台 (lydst)
- 德州台 (dzdst)
- 聊城台 (lcdst)
- 滨州台 (bzdst)
- 菏泽台 (hzdst)
- 济宁台 (jxdst)
- 莱芜台 (lzdst)
- 章丘台 (zcdst)

### 📺 陕西TV (17个)
- 农林卫视 (1126)
- 新闻资讯 (1127)
- 都市青春 (1128)
- 银龄频道 (1129)
- 秦腔频道 (1130)
- 陕西卫视 (1131)
- 体育休闲 (1179)
- 乐家购物 (1241)
- 移动电视 (1242)
- 新闻广播 (2134)
- 汽车调频 (2135)
- 交通广播 (2136)
- 音乐广播 (2137)
- 都市广播 (2139)
- 青少广播 (2140)
- 戏曲广播 (2142)
- 农村广播 (2143)

### 📺 深圳TV (11个)
- 深圳卫视4K (szws4k)
- 深圳卫视 (szws)
- 都市频道 (szds)
- 电视剧频道 (szdsj)
- 公共频道 (szgg)
- 财经频道 (szcj)
- 娱乐生活 (szyl)
- 少儿频道 (szse)
- 移动电视 (szyd)
- 宜和购物频道 (szyh)
- 国际频道 (szgj)

### 📺 石家庄TV (动态)
- 频道列表实时同步API
- 请访问 /api/sjz?id=list 获取最新频道

### 📺 云南TV (6个) 🔗全链路代理
- 云南卫视 (ynws) 
- 云南都市 (ynds) 
- 云南娱乐 (ynyl) 
- 云南公共 (yngg) 
- 云南国际 (yngj) 
- 云南少儿 (ynse) 

### 📺 浙江TV (58个)

#### 浙江省台 (9个) 🎬
- 浙江卫视 (19)
- 钱江频道 (20)
- 浙江经视 (21)
- 教科影视频道 (25)
- 新闻频道 (23)
- 民生休闲频道 (24)
- 少儿频道 (28)
- 之江纪录 (26)
- 国际频道 (27)

#### 地市台 (11个) 🎬
- 杭州电视台综合频道 (12760)
- 宁波电视台（一套） (12798)
- 温州电视台新闻综合 (12799)
- 湖州电视台新闻综合频道 (12800)
- 嘉兴新闻综合 (12801)
- 绍兴新闻综合频道 (12802)
- 金华新闻综合频道 (12803)
- 衢州新闻综合 (12804)
- 舟山新闻综合频道 (12805)
- 台州新闻综合频道 (12806)
- 丽水新闻综合 (12807)

#### 地区台 (38个)
- 杭州萧山综合 (hzxs1)
- 象山新闻综合 (xsxwzh)
- 温州苍南新闻综合 (wzcn1)
- 温州永嘉新闻综合 (wzyj1)
- 温州电视台 (wzdt1)
- 瑞安新闻综合 (raxwzh)
- 柯桥新闻综合 (kqxwzh)
- 金华东阳影视生活 (jhdy2)
- 金华磐安新闻综合 (jhpa1)
- 金华磐安文化旅游 (jhpa2)
- 金华永康新闻综合 (jhyk1)
- 金华永康华溪频道 (jhyk2)
- 嵊州新闻综合 (szxwzh)
- 台州天台和合频道 (tztt1)
- 台州玉环新闻综合 (tzyh1)
- 嘉兴新闻综合 (jxxwzh)
- 嘉兴文化旅游 (jxwhly)
- 嘉兴公共 (jxgg)
- 丽水龙泉新闻综合 (lslq1)
- 丽水松阳新闻综合 (lssy1)
- 丽水云和新闻综合 (lsyh1)
- 丽水庆元电视台 (lsqy1)
- 平湖综合 (phzh)
- 衢州常山新闻综合 (qzcs1)
- 衢州开化综合 (qzkh1)
- 东阳新闻综合 (dyxwzh)
- 东阳影视生活 (dyyssh)
- 武义新闻综合 (wyxwzh)
- 景宁电视台 (jndst)
- 青田电视台 (qtdst)
- 舟山普陀新闻综合 (zspt1)
- 遂昌电视台 (scdst)
- 舟山新闻综合 (zsxwzh)
- 舟山公共 (zsgg)
- 宁波余姚姚江文化 (nbyy2)
- 江山电视台 (jsdst)
- 龙游新闻综合 (lyxwzh)
- 衢江新闻综合 (xwzh5)

### 📺 杭州TV (7个) 🔗全链路代理
- 杭州综合 (hzzh)
- 西湖明珠 (hzmz)
- 杭州生活 (hzsh)
- 杭州影视 (hzys)
- 青少体育 (hzqsty)
- 杭州导视 (hzds)
- 富阳新闻综合 (fyxwzh)

### 📺 上海TV (8个)
- 东方卫视4k (dfws)
- 上海新闻综合 (shxwzh)
- 上海都市 (shds)
- 第一财经 (dycj)
- 哈哈炫动 (hhxd)
- 五星体育 (wxty)
- 上海魔都眼 (mdy)
- 上海新纪实 (jsrw)

### 📺 广州TV (4个)
- 广州综合 (gzzh)
- 广州新闻 (gzxw)
- 南国都市（4K） (ngds)
- 广州法治 (gzzf)

### 📺 南京 (5个)
- 新闻综合频道 (109152)
- 教育科技频道 (109153)
- 十八·生活频道 (110094)
- 文旅纪录频道 (110093)
- 少儿频道 (110095)

### 📺 广东 (20个)
- 广东卫视 (43)
- 广东珠江 (44)
- 广东新闻 (45)
- 大湾区卫视 (46)
- 广东体育 (47)
- 广东民生 (48)
- 大湾区卫视 (51)
- 广东影视 (53)
- 广东4K (16)
- 广东少儿 (54)
- 嘉佳卡通 (66)
- 南方购物 (42)
- 岭南戏曲 (15)
- 广东移动 (74)
- 现代教育 (111)
- 广东台经典剧 (100)
- 广东纪录片 (94)
- GRTN健康频道 (99)
- GRTN文化频道 (75)
- GRTN生活频道 (102)

### 📺 四川TV (10个) 🔗全链路代理
- 四川卫视4K (scws4k) 
- 四川卫视 (scws) 
- 四川经济 (scjj) 
- 四川文化旅游 (scwhly) 
- 四川新闻 (scxw) 
- 四川影视文艺 (scyswy) 
- 四川星空购物 (scxkgw) 
- 四川妇女儿童 (scfnet) 
- 四川乡村 (scxc) 
- 康巴卫视 (kbws) 

### 📺 湖北TV (13个) 🔗全链路代理
- 湖北卫视 (hbws) 📺
- 湖北经视 (hbjs) 📺
- 湖北综合 (hbzh) 📺
- 湖北影视 (hbys) 📺
- 湖北生活 (hbsh) 📺
- 湖北教育 (hbjy) 📺
- 垄上频道 (lspd) 📺
- 湖北之声 (hbzs) 📻
- 经典音乐 (jdyy) 📻
- 城市之声 (cszs) 📻
- 楚天交通 (ctjt) 📻
- 楚天音乐 (ctyy) 📻
- 农村广播 (ncgb) 📻

### 📺 山西TV (17个)
- 山西卫视 (sxws)
- 山西经济 (sxjj)
- 山西影视 (sxys)
- 山西社会与法治 (sxshyfz)
- 山西文体生活 (sxwtsh)
- 山西黄河 (sxhh)
- 太原新闻综合 (tyxwzh)
- 大同新闻综合 (dtxwzh)
- 阳泉新闻综合 (yqxwzh)
- 长治新闻综合 (czxwzh)
- 晋城新闻综合 (jcxwzh)
- 朔州新闻综合 (szxwzh)
- 晋中综合 (jzzh)
- 运城新闻综合 (ycxwzh)
- 忻州综合 (xzzh)
- 临汾新闻综合 (lfxwzh)
- 吕梁新闻综合 (llxwzh)

### 📺 吉林TV (动态，目前15个) 
- 吉林卫视 (jlws/2/ch2)
- 都市频道 (jlds/3/ch3)
- 生活频道 (jlsh/4/ch4)
- 影视频道 (jlys/5/ch5)
- 乡村频道 (jlxc/6/ch6)
- 综艺文化 (jlzywh/8/ch8)
- 长春新闻综合 (cczh/1006/ch1006)
- 吉视公共新闻 (jlszh/1008/ch1008)
- 四平新闻综合 (spzh/1016/ch1016)
- 辽源新闻综合 (lyzh/1018/ch1018)
- 通化新闻综合 (thzh/1020/ch1020)
- 白山新闻综合 (bszh/1022/ch1022)
- 白城新闻综合 (bczh/1030/ch1030)
- 松原新闻综合 (syzh/1032/ch1032)
- 延边卫视 (ybws/50/ch50)

### 📺 甘肃TV (6个) 🔗全链路代理
- 甘肃卫视 (gsws) 
- 文化影视 (whys) 
- 公共应急 (ggyj) 
- 少儿频道 (sepd) 
- 科教频道 (dspd) 
- 移动电视 (ydds) 

### 📺 兰州TV (5个) 🔗全链路代理
- 兰州新闻综合 (lzxwzh) 
- 兰州文旅 (lzwl) 
- 兰州新闻综合广播 (lzzhgb) 
- 兰州音乐广播 (lzyygb) 
- 兰州文艺广播 (lzwygb) 

### 📺 安徽TV (动态，目前8个) 🔗全链路代理
- 安徽卫视 (ahws/47)
- 经济生活 (ahjj/71)
- 综艺体育 (ahzy/73)
- 影视频道 (ahys/72)
- 安徽公共 (ahgg/50)
- 农业·科教 (ahnk/51)
- 安徽国际 (ahgj/70)
- 移动电视 (ahyd/68)
- 请访问 /api/anhui?id=list 获取最新频道

### 📺 福建TV (10个)
- 综合频道 (fjzh/4)
- 东南卫视 (fjws/5)
- 乡村振兴·公共频道 (fjgg/6)
- 新闻频道 (fjxw/13)
- 电视剧频道 (fjdsj/7)
- 旅游频道 (fjly/8)
- 经济生活频道 (fjjj/9)
- 文体频道 (fjwt/10)
- 少儿频道 (fjse/2)
- 海峡卫视 (hxws/3)

### 📺 重庆TV (1个) 
- 重庆新闻 (cqxw)

### 📺 湖北地方TV (动态，32个可播放) 🔗部分频道全链路代理

#### 长江云地市台 (13个 - 302直连)
- 宜昌综合频道 (10091_59) 
- 宜昌旅游生活 (10091_60) 
- 大冶综合 (10102_4) 
- 大冶湖之声FM89.3 (10102_65) 📻
- 当阳电视台 (10118_64) 
- 应城综合频道 (10135_43) 
- 应城综合广播 (10135_51) 📻
- 孝感新闻综合频道 (10139_62) 
- 孝感生活频道 (10139_63) 
- 咸宁综合 (10140_91) 
- 咸宁经济生活 (10140_80) 
- 襄阳综合广播 (10125_558) 📻

#### 恩施广电API (9个 - 302直连)
- 📺 恩施综合 (enshi_1) 
- 📺 恩施文旅 (enshi_2) 
- 📺 巴东综合 (enshi_22) 
- 📺 咸丰综合 (enshi_31) 
- 📻 咸丰FM103.5 (enshi_36) 
- 📺 鹤峰综合 (enshi_33) 
- 📻 鹤峰FM102.1 (enshi_37) 
- 📻 恩施FM99 (enshi_15) 
- 📻 恩施FM94 (enshi_16) 

#### 十堰广电API (2个 - 302直连)
- 十堰新闻综合 (sy1) 
- 十堰经济旅游 (sy3) 

#### 荆门广电API (2个 - 302直连)
- 荆门新闻综合频道 (jm4) 
- 荆门科教文旅频道 (jm7) 

#### 长阳广电 (1个 - 302直连)
- 长阳综合 (cyzh) 

#### 代理频道 (6个 - 全链路代理🔗)
- 江陵综合 (jlzh) 
- 襄阳综合 (xyzh) 
- 襄阳经济生活 (xysh) 
- 襄阳公共 (xygg) 
- 武穴综合 (wxzh) 
- 罗田综合 (ltzh) 

**说明：**
- 📻 标记为广播频道（共7个）
- 🔗 代理频道自动处理Referer验证
- 请访问 `/api/hubei?id=list` 获取精选可播放频道
- 请访问 `/api/hubei?id=list&all=1` 获取全部动态频道（含不可用）

### 📺 内蒙古TV (动态，20个)

- 内蒙古卫视 (nmws)
- 内蒙古蒙古语卫视 (nmmyws)
- 内蒙古新闻综合 (nmxwzh)
- 内蒙古经济生活 (nmjjsh)
- 内蒙古少儿 (nmse)
- 内蒙古文体娱乐 (nmwtyl)
- 内蒙古农牧 (nmnm)
- 内蒙古蒙古语文化 (nmwh)
- 呼和浩特新闻综合 (hhht1)
- 锡林郭勒 (xlgl1)
- 阿拉善新闻综合 (als1)
- 巴彦淖尔 (byle1)
- 鄂尔多斯 (erds1)
- 赤峰新闻综合 (cf1)
- 通辽新闻综合 (tl1)
- 乌兰察布 (wlcb1)
- 乌海新闻综合 (wh1)
- 呼伦贝尔新闻综合 (hlbe1)
- 兴安新闻综合 (xa1)
- 包头新闻综合 (bt1)

### 📺 湖南TV (16个)

- 湖南经视 (hnjshi)
- 湖南电影 (hndy)
- 湖南都市 (hnds)
- 湖南电视剧 (hndsj)
- 湖南爱晚 (hnaw)
- 湖南国际 (hngj)
- 湖南娱乐 (hnyl)
- 金鹰纪实 (jyjs)
- 金鹰卡通 (jykt)
- 快乐垂钓 (klcd)
- 先锋乒羽 (xfpy)
- 长沙新闻 (csxw)
- 长沙政法 (cszf)
- 长沙女性 (csnx)
- 快乐购 (klg)
- 茶频道 (cpd)

### 📺 海南TV (7个)

- 海南卫视 (hnws)
- 三沙卫视 (ssws)
- 海南新闻 (xwpd)
- 海南文旅 (wlpd)
- 海南自贸 (jjpd)
- 海南公共 (ggpd)
- 海南少儿 (sepd)

### 📺 贵州TV (7个)

- 贵州卫视 (gzws)
- 贵州公共 (gzgg)
- 贵州文艺 (gzwy)
- 贵州生活 (gzsh)
- 贵州5 (gz5p)
- 科教健康 (kjjk)
- 移动数字 (ydsz)

### 📺 江西TV (20个)
- 江西卫视 (jxws)
- 江西都市 (jxds)
- 江西经济生活 (jxjs)
- 江西影视旅游 (jxys)
- 江西公共农业 (jxgg)
- 江西少儿 (jxse)
- 江西新闻 (jxxw)
- 江西陶瓷 (jxtc)
- 风尚购物 (fsgq)
- 抚州综合 (fz1)
- 赣州新闻综合 (gz1)
- 吉安综合 (ja1)
- 景德镇新闻综合 (jdz1)
- 九江新闻综合 (jj1)
- 南昌新闻综合 (nc1)
- 萍乡新闻综合 (px1)
- 上饶新闻综合 (sr1)
- 新余新闻综合 (xy1)
- 宜春综合 (yc1)
- 鹰潭综合 (yt1)

### 📺 青海TV (4个)

- 青海卫视 (qhws)
- 青海经视 (qhjs)
- 青海都市 (qhds)
- 安多卫视 (adws)

### 📺 宁夏TV (5个) 🔗全链路代理

- 宁夏卫视 (56)
- 宁夏公共 (111)
- 宁夏经济 (61)
- 宁夏文旅 (71)
- 宁夏少儿 (67)

### 📺 西藏TV (3个)

- 西藏卫视 (ws)
- 西藏藏语 (zy)
- 西藏影视 (ys)

### 📺 新疆TV (动态，7个) 🔗 全链路代理

- 新疆卫视 (xjws)
- 维吾尔语新闻综合 (wyzh)
- 哈萨克语新闻综合 (hazh)
- 汉语综艺 (hyzy)
- 维吾尔语影视 (wyys)
- 汉语体育健康 (hyty)
- 少儿频道 (xjse)

**说明：**
- ⚠️ **API需要特定网络环境或代理访问**（IP地域限制）
- 代码已实现完整功能，代理IP不能用后需要更换

## 功能特性

- ✅ 支持全国多地电视台频道
- ✅ M3U8播放列表代理
- ✅ TS文件自动代理
- ✅ XXTEA解密支持（吉林、内蒙古）
- ✅ 动态频道列表（吉林、石家庄、安徽、内蒙古、新疆等）
- ✅ 全链路代理（四川、云南、甘肃、兰州、安徽、湖北、新疆、辽宁、宁夏等）
- ✅ **WebSocket心跳**（湖北、广东 - 原生TLS Socket实现）
- ✅ **完整Cookie管理**（湖北 - 自动提取所有认证cookies）
- ✅ Edge Runtime运行
- ✅ 无需服务器,直接部署到EdgeOne
- ✅ 统一API接口设计
- ✅ TypeScript类型安全

## API使用

### 通用格式

```bash
# 获取M3U8播放列表
https://your-domain.com/api/{region}?id={channel_id}

# 示例
https://your-domain.com/api/yunnan?id=ynws      # 云南卫视
https://your-domain.com/api/beijing?id=bjws     # 北京卫视
https://your-domain.com/api/4k?id=btv4k         # 北京卫视4K
https://your-domain.com/api/sjz?id=list         # 石家庄频道动态列表
```

### 获取M3U8播放列表

```
GET /api/{region}?id={channel_id}
```

示例:
```
# 云南卫视
https://your-domain.com/api/yunnan?id=ynws

# 北京卫视4K
https://your-domain.com/api/4k?id=btv4k

# 北京卫视
https://your-domain.com/api/beijing?id=bjws

# 吉林卫视（支持多种ID格式）
https://your-domain.com/api/jilin?id=jlws
https://your-domain.com/api/jilin?id=2
https://your-domain.com/api/jilin?id=ch2

# 四川卫视（全链路代理m3u8+ts）
https://your-domain.com/api/sichuan?id=scws

# 云南卫视（全链路代理m3u8+ts）
https://your-domain.com/api/yunnan?id=ynws

# 甘肃卫视（全链路代理m3u8+ts）
https://your-domain.com/api/gansu?id=gsws

# 兰州文旅（全链路代理，支持TV和广播）
https://your-domain.com/api/lanzhou?id=lzwl

# 安徽卫视（全链路代理m3u8+ts，动态频道）
https://your-domain.com/api/anhui?id=ahws
https://your-domain.com/api/anhui?id=list  # 获取完整频道列表

# 福建东南卫视
https://your-domain.com/api/fujian?id=fjws

# 重庆新闻
https://your-domain.com/api/chongqing?id=cqxw

# 黑龙江卫视
https://your-domain.com/api/heilongjiang?id=hljws

# 辽宁卫视（全链路代理）
https://your-domain.com/api/liaoning?id=lnws
https://your-domain.com/api/liaoning?id=list  # 获取完整频道列表

# 江西TV
https://your-domain.com/api/jiangxi?id=jxws      # 江西卫视
https://your-domain.com/api/jiangxi?id=jxds      # 江西都市
https://your-domain.com/api/jiangxi?id=nc1       # 南昌新闻综合
https://your-domain.com/api/jiangxi?id=list      # 获取完整频道列表（20个频道）

# 青海卫视
https://your-domain.com/api/qinghai?id=qhws
https://your-domain.com/api/qinghai?id=list  # 获取完整频道列表

# 湖北省台（全链路代理 + WebSocket心跳）
# 电视频道示例
https://your-domain.com/api/hubei1?id=hbws       # 湖北卫视
https://your-domain.com/api/hubei1?id=hbjs       # 湖北经视

# 广播频道示例
https://your-domain.com/api/hubei1?id=hbzs       # 湖北之声
https://your-domain.com/api/hubei1?id=jdyy       # 经典音乐

# 获取完整频道列表
https://your-domain.com/api/hubei1?id=list

# 湖北地方台（部分全链路代理，动态频道）
# 302直连频道示例
https://your-domain.com/api/hubei?id=10091_59    # 宜昌综合频道
https://your-domain.com/api/hubei?id=enshi_1     # 恩施综合
https://your-domain.com/api/hubei?id=sy1         # 十堰新闻综合
https://your-domain.com/api/hubei?id=jm4         # 荆门新闻综合
https://your-domain.com/api/hubei?id=cyzh        # 长阳综合

# 全链路代理频道示例（自动处理Referer）
https://your-domain.com/api/hubei?id=jlzh        # 江陵综合
https://your-domain.com/api/hubei?id=xyzh        # 襄阳综合
https://your-domain.com/api/hubei?id=ltzh        # 罗田综合

# 获取频道列表
https://your-domain.com/api/hubei?id=list        # 精选可播放频道（32个，100%成功率）
https://your-domain.com/api/hubei?id=list&all=1  # 全部动态频道（含不可用）
https://your-domain.com/api/hubei?id=list&refresh=1  # 强制刷新缓存

# 石家庄频道列表（动态）
https://your-domain.com/api/sjz?id=list

# 吉林频道列表（动态）
https://your-domain.com/api/jilin?id=list
```

### 播放器使用

```m3u
```m3u
#EXTM3U
#EXTINF:-1,北京卫视4K
https://your-domain.com/api/4k?id=btv4k
#EXTINF:-1,北京卫视
https://your-domain.com/api/beijing?id=bjws
#EXTINF:-1,云南卫视
https://your-domain.com/api/yunnan?id=ynws
#EXTINF:-1,黑龙江卫视
https://your-domain.com/api/heilongjiang?id=hljws
#EXTINF:-1,辽宁卫视
https://your-domain.com/api/liaoning?id=lnws
#EXTINF:-1,江西卫视
https://your-domain.com/api/jiangxi?id=jxws
#EXTINF:-1,江西都市
https://your-domain.com/api/jiangxi?id=jxds
#EXTINF:-1,青海卫视
https://your-domain.com/api/qinghai?id=qhws

# 湖北地方台示例（302直连）
#EXTINF:-1 group-title="湖北",宜昌综合频道
https://your-domain.com/api/hubei?id=10091_59
#EXTINF:-1 group-title="湖北",恩施综合
https://your-domain.com/api/hubei?id=enshi_1
#EXTINF:-1 group-title="湖北",十堰新闻综合
https://your-domain.com/api/hubei?id=sy1

# 湖北代理频道示例（全链路代理）
#EXTINF:-1 group-title="湖北",江陵综合
https://your-domain.com/api/hubei?id=jlzh
#EXTINF:-1 group-title="湖北",襄阳综合
https://your-domain.com/api/hubei?id=xyzh

# 湖北地方台列表（动态，推荐）
#EXTINF:-1,湖北地方台列表（动态）
https://your-domain.com/api/hubei?id=list
```
```
 
## 本地开发

如需在本地调试和开发项目，请参考以下步骤（适用于 Node 18+）：

1. 安装依赖

```bash
npm install
```

2. 本地开发（热重载）

```bash
npm run dev
```

3. 生产构建与启动

```bash
npm run build
npm run start
```

访问: http://localhost:3000

更多本地开发注意事项请参见 `DEPLOY.md`。

## 本地 Docker 部署

项目包含用于本地容器化测试的 `Dockerfile`（详见 `DEPLOY.md`）。快速开始：

1. 构建镜像

```bash
docker build -t iptv-edgeone .
```

2. 运行容器（在本地映射为 3000 端口）

```bash
docker run -d \
  --name iptv-edgeone \
  -p 3000:3000 \
  --restart unless-stopped \
  iptv-edgeone
```

容器启动后同样访问: http://localhost:3000

参见 `DEPLOY.md` 以获取 EdgeOne 兼容性、环境变量和调试提示。

## 部署到EdgeOne Pages

1. **准备仓库**
   ```bash
   git init
   git add .
   git commit -m "Initial commit"
   git remote add origin <your-repo-url>
   git push -u origin main
   ```

2. **EdgeOne Pages配置**
   - 登录腾讯云EdgeOne控制台
   - 创建新站点 → 选择Pages服务
   - 连接GitHub/GitLab仓库
   - 构建配置:
     - 构建命令: `npm run build`
     - 输出目录: `.next`
     - Node版本: 18+

3. **环境变量**
   无需额外配置

4. **部署**
   - 推送代码到仓库自动触发部署
   - 或在控制台手动触发部署

## 项目结构

```
iptv-edgeone/
├── app/
│   ├── api/
│   │   ├── 4k/           # 4K频道API
│   │   ├── anhui/        # 安徽台API 全链路代理 动态
│   │   ├── beijing/      # 北京台API
│   │   ├── chongqing/    # 重庆台API 
│   │   ├── fujian/       # 福建台API
│   │   ├── gansu/        # 甘肃台API 全链路代理
│   │   ├── guangdong/    # 广东台API
│   │   ├── guangzhou/    # 广州台API
│   │   ├── guizhou/      # 贵州台API 全链路代理
│   │   ├── hainan/       # 海南台API
│   │   ├── hangzhou/     # 杭州台API 全链路代理
│   │   ├── hebei/        # 河北台API
│   │   ├── heilongjiang/ # 黑龙江台API
│   │   ├── henan/        # 河南台API
│   │   ├── hubei/        # 湖北地方台API 部分代理 动态
│   │   ├── hubei1/       # 湖北台API 全链路代理
│   │   ├── hunan/        # 湖南台API
│   │   ├── jiangsu/      # 江苏台API
│   │   ├── jiangxi/      # 江西台API
│   │   ├── jilin/        # 吉林台API 动态
│   │   ├── liaoning/     # 辽宁台API 全链路代理
│   │   ├── neimenggu/    # 内蒙古台API 动态
│   │   ├── lanzhou/      # 兰州台API 全链路代理
│   │   ├── nanjing/      # 南京台API
│   │   ├── ningxia/      # 宁夏台API 全链路代理
│   │   ├── qinghai/      # 青海台API
│   │   ├── shaanxi/      # 陕西台API
│   │   ├── shandong/     # 山东台API
│   │   ├── shanghai/     # 上海台API
│   │   ├── shanxi/       # 山西台API
│   │   ├── shenzhen/     # 深圳台API
│   │   ├── sichuan/      # 四川台API 全链路代理
│   │   ├── sjz/          # 石家庄台API 动态
│   │   ├── xinjiang/     # 新疆台API 全链路代理
│   │   ├── xizang/       # 西藏台API
│   │   ├── yunnan/       # 云南台API 全链路代理
│   │   ├── zhejiang/     # 浙江地区台API
│   │   ├── zhejiang1/    # 浙江省台API (中国蓝)
│   │   └── utils/        # 通用工具函数
│   │       ├── crypto.ts # 加密工具（MD5/AES/XXTEA）
│   │       └── url.ts    # URL工具（getRealHost）
│   ├── styles/           # 样式文件
│   │   └── home.module.css
│   ├── layout.tsx        # 全局布局
│   └── page.tsx          # 首页
├── package.json
├── next.config.js
├── tsconfig.json
├── DEPLOY.md             # 部署指南
├── README.md
└── ...
```

## 原理说明

1. **多地区API分区**：每个地区/频道有独立API目录，便于维护和扩展，上游源获取接口基本都来源于各台官方。
2. **getRealHost工具**：所有API统一通过`getRealHost`获取真实域名，兼容EdgeOne内部转发。
3. **M3U8代理**：API返回标准M3U8播放列表，所有频道URL均为本服务代理，支持VLC等播放器直接播放。
4. **TS文件代理**：如有TS分片，API自动代理并处理防盗链、Referer等。
5. **动态频道支持**：如石家庄频道，API实时抓取上游数据，频道列表随源站变化自动同步。
6. **无状态部署**：所有逻辑基于Edge Runtime，无需本地存储，支持无服务器部署。
7. **TypeScript类型安全**：全项目TypeScript开发，类型安全、易维护。
8. **一键部署**：支持直接部署到腾讯云EdgeOne Pages，自动适配云端环境。

## 性能优化

- Edge Runtime在边缘节点运行,低延迟
- TS文件缓存300秒
- M3U8实时获取,无缓存

## 注意事项

- 仅供学习和个人使用
- 请遵守相关法律法规和版权
- EdgeOne Pages免费额度有限,注意用量

## License

MIT
